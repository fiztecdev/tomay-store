
create table distino
(
	id_dis int auto_increment
		primary key,
	lugar varchar(100) not null,
	descripcion text not null,
	fotos varchar(100) null,
	estado enum('1', '0') default '1' null
)
;

create table hotel
(
	id_hot int auto_increment
		primary key,
	nombre varchar(200) not null,
	ubicacion varchar(200) not null,
	descripcion text null,
	fotos varchar(100) null,
	estado enum('1', '0') default '1' null
)
;



create table migrations
(
	id int(10) unsigned auto_increment
		primary key,
	migration varchar(255) not null,
	batch int not null
)
;

create table oauth_access_tokens
(
	id varchar(100) not null
		primary key,
	user_id int null,
	client_id int not null,
	name varchar(255) null,
	scopes text null,
	revoked tinyint(1) not null,
	created_at timestamp null,
	updated_at timestamp null,
	expires_at datetime null
)
;

create index oauth_access_tokens_user_id_index
	on oauth_access_tokens (user_id)
;

create table oauth_auth_codes
(
	id varchar(100) not null
		primary key,
	user_id int not null,
	client_id int not null,
	scopes text null,
	revoked tinyint(1) not null,
	expires_at datetime null
)
;

create table oauth_clients
(
	id int(10) unsigned auto_increment
		primary key,
	user_id int null,
	name varchar(255) not null,
	secret varchar(100) not null,
	redirect text not null,
	personal_access_client tinyint(1) not null,
	password_client tinyint(1) not null,
	revoked tinyint(1) not null,
	created_at timestamp null,
	updated_at timestamp null
)
;

create index oauth_clients_user_id_index
	on oauth_clients (user_id)
;

create table oauth_personal_access_clients
(
	id int(10) unsigned auto_increment
		primary key,
	client_id int not null,
	created_at timestamp null,
	updated_at timestamp null
)
;

create index oauth_personal_access_clients_client_id_index
	on oauth_personal_access_clients (client_id)
;

create table oauth_refresh_tokens
(
	id varchar(100) not null
		primary key,
	access_token_id varchar(100) not null,
	revoked tinyint(1) not null,
	expires_at datetime null
)
;

create index oauth_refresh_tokens_access_token_id_index
	on oauth_refresh_tokens (access_token_id)
;

create table password_resets
(
	email varchar(255) not null,
	token varchar(255) not null,
	created_at timestamp null
)
;

create index password_resets_email_index
	on password_resets (email)
;

create table pq_turistico
(
	id_paq int auto_increment
		primary key,
	ruta varchar(500) not null,
	costo int not null,
	duracion_dias text not null,
	id_hot int not null,
	id_res int not null,
	id_dis int not null,
	estado enum('1', '0') default '1' null,
	constraint pq_turistico_ibfk_3
		foreign key (id_hot) references hotel (id_hot)
			on update cascade on delete cascade,
	constraint pq_turistico_ibfk_1
		foreign key (id_dis) references distino (id_dis)
			on update cascade on delete cascade
)
;

create index id_dis
	on pq_turistico (id_dis)
;

create index id_hot
	on pq_turistico (id_hot)
;

create index id_res
	on pq_turistico (id_res)
;

create table promocion_tur
(
	id_pro int auto_increment
		primary key,
	fecha date not null,
	precio int not null,
	tiemp_lim varchar(40) not null,
	id_pq int not null,
	constraint promocion_tur_ibfk_1
		foreign key (id_pq) references pq_turistico (id_paq)
			on update cascade on delete cascade
)
;

create index id_pq
	on promocion_tur (id_pq)
;

create table restaurante
(
	id_res int auto_increment
		primary key,
	nombre varchar(100) not null,
	ubicacion varchar(60) not null,
	fotos varchar(100) null,
	descripcion text null,
	estado enum('1', '0') default '1' null
)
;

alter table pq_turistico
	add constraint pq_turistico_ibfk_2
		foreign key (id_res) references restaurante (id_res)
			on update cascade on delete cascade
;


create table users
(
	id int(10) unsigned auto_increment
		primary key,
	fullname varchar(255) not null,
	name varchar(255) not null,
	email varchar(255) not null,
	password varchar(255) not null,
	type varchar(10) default 'cliente' null,
	avatar varchar(255) null,
	remember_token varchar(100) null,
	created_at timestamp null,
	updated_at timestamp null,
	constraint users_email_unique
		unique (email)
)
;



create table usuarios
(
	id int auto_increment
		primary key,
	name varchar(255) not null,
	email varchar(255) not null,
	phone varchar(15) not null,
	status enum('1', '0') default '1' not null comment '1=Active, 0=Inactive',
	image varchar(100) null
)
;



